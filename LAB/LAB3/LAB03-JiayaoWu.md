# Lab03 Sorting and Selection
<center>VE281 - Data Structures and Algorithms, Xiaofeng Gao, Autumn 2019</center>

### Test case generation and processing.

For every single test, the input array is  a random permutation of $1,2,\cdots , n$, generated by a single C++ program **generateâ€‹**. The source code is attached in Appendix.

All the tests are performed together by a shell script. For different first-line integers, there is a relevant **.csv** output file. The source code is attached in Appendix.

### Comparison between five sorting algorithm

![1570727199611](D:\OneDrive - sjtu.edu.cn\JI\2019FA\VE281\LAB\LAB3\1570727199611.png)

The running time of bubble sort is much more longer than other sorting algorithm, followed by selection sort, insert sort, merge sort and quick sort. The difference becomes much more obvious and significant when the size of the array grows.

Since the running time of merge sort and quick sort are too closely plotted to be recognized, here is a plot which only contains running time of merge sort and quick sort.

![1570727207167](D:\OneDrive - sjtu.edu.cn\JI\2019FA\VE281\LAB\LAB3\1570727207167.png)

It can be seen in the figure that quick sort tends to perform better than merge sort in average.

### Comparison between two selection algorithm

![1570728909798](D:\OneDrive - sjtu.edu.cn\JI\2019FA\VE281\LAB\LAB3\1570728909798.png)

In this test, random selection performs better than deterministic selection in less running time. Both two selection algorithms performs better than quick sort in less running time. Differences become much more obvious and significant when the size of the array grows.





### Appendix

generate.cpp

~~~cpp
#include <algorithm>
#include <cstdlib>
#include <iostream>
#include <string>
#include <vector>
using namespace std;

void randperm(int Num)
{
    vector<int> temp;
    for (int i = 0; i < Num; ++i)
    {
        temp.push_back(i + 1);
    }

    random_shuffle(temp.begin(), temp.end());

    for (int i = 0; i < temp.size(); i++)
    {
        cout << temp[i] << endl;
    }
}

int main(int argc, char **argv)
{
    cout << argv[1] << endl;
    int num = stoi(argv[2]);
    cout << argv[2] << endl;
    if (argc == 3)
    {
        if (num >= 6)
        {
            cout << rand() % 5 << endl;
        }
        else
        {
            cout << "0" << endl;
        }
    }

    randperm(num);
}

~~~

app.sh

~~~shell

start=1
end=50000
add=198

# Keep this this file fold named testcase, and filefold testcase should be in the same dir with Makefile

cd ../
make
cp main testcase
cd testcase

rm generate
g++ -o generate generate.cpp

rm -r stdInput/

mkdir stdInput

# ==============================================================================
cd stdInput

for ((j = 0; j <= 6; j++)); do
    mkdir $j
done

for ((j = 0; j <= 4; j++)); do
    cd $j
    for ((i = $start; i <= $end; i = $i + $add)); do
        echo $i
        ../../generate $j $i >"M${j}N${i}"
    done
    cd ../
done

for ((j = 5; j <= 6; j++)); do
    cd $j
    for ((i = $start; i <= $end; i = $i + $add)); do
        echo $i
        ../../generate $j $i 1 >"M${j}N${i}"

    done
    cd ../
done

cd ../

# ==============================================================================

rm -r stdOutput
mkdir stdOutput

# ==============================================================================
cd stdOutput

for file in $(ls ../stdInput/0); do
    echo $file
    ../main <../stdInput/0/$file >>0_out.csv
done

for file in $(ls ../stdInput/1); do
    echo $file
    ../main <../stdInput/1/$file >>1_out.csv
done

for file in $(ls ../stdInput/2); do
    echo $file
    ../main <../stdInput/2/$file >>2_out.csv
done

for file in $(ls ../stdInput/3); do
    echo $file
    ../main <../stdInput/3/$file >>3_out.csv
done

for file in $(ls ../stdInput/4); do
    echo $file
    ../main <../stdInput/4/$file >>4_out.csv
done

for file in $(ls ../stdInput/5); do
    echo $file
    ../main <../stdInput/5/$file >>5_out.csv
done

for file in $(ls ../stdInput/6); do
    echo $file
    ../main <../stdInput/6/$file >>6_out.csv
done

cd ../
# ==============================================================================

~~~

