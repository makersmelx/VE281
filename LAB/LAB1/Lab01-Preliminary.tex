\documentclass[12pt,a4paper]{article}
%\usepackage{ctex}
\usepackage{amsmath,amscd,amsbsy,amssymb,latexsym,url,bm,amsthm}
\usepackage{epsfig,graphicx,subfigure}
\usepackage{enumitem,balance}
\usepackage{wrapfig}
\usepackage{mathrsfs,euscript}
\usepackage[x11names,svgnames,dvipsnames]{xcolor}
\usepackage{hyperref}
\usepackage[vlined,ruled,commentsnumbered,linesnumbered]{algorithm2e}
\usepackage{listings}
%\usepackage{fontspec}

\newtheorem{theorem}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{exercise}{Exercise}
\newtheorem*{solution}{Solution}
\newtheorem{definition}{Definition}
\theoremstyle{definition}


%\numberwithin{equation}{section}
%\numberwithin{figure}{section}

\renewcommand{\thefootnote}{\fnsymbol{footnote}}

\newcommand{\postscript}[2]
 {\setlength{\epsfxsize}{#2\hsize}
  \centerline{\epsfbox{#1}}}

\renewcommand{\baselinestretch}{1.0}

\setlength{\oddsidemargin}{-0.365in}
\setlength{\evensidemargin}{-0.365in}
\setlength{\topmargin}{-0.3in}
\setlength{\headheight}{0in}
\setlength{\headsep}{0in}
\setlength{\textheight}{10.1in}
\setlength{\textwidth}{7in}
\makeatletter \renewenvironment{proof}[1][Proof] {\par\pushQED{\qed}\normalfont\topsep6\p@\@plus6\p@\relax\trivlist\item[\hskip\labelsep\bfseries#1\@addpunct{.}]\ignorespaces}{\popQED\endtrivlist\@endpefalse} \makeatother
\makeatletter
\renewenvironment{solution}[1][Solution] {\par\pushQED{\qed}\normalfont\topsep6\p@\@plus6\p@\relax\trivlist\item[\hskip\labelsep\bfseries#1\@addpunct{.}]\ignorespaces}{\popQED\endtrivlist\@endpefalse} \makeatother


\definecolor{codegreen}{rgb}{0.44,0.68,0.28}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.96,0.96,0.96}

\lstset{ 
language=C++, 
frame=shadowbox,
keywordstyle = \color{blue}\bfseries, 
commentstyle=\color{codegreen}, 
tabsize = 4, 
backgroundcolor=\color{backcolour}, 
numbers=left,                    
numbersep=5pt,
breaklines=true, 
escapechar=|,
emph = {int,float,double,char},emphstyle=\color{orange}, 
emph ={[2]const, typedef},emphstyle = {[2]\color{red}} } 


 
\begin{document}
\noindent

%========================================================================
\noindent\framebox[\linewidth]{\shortstack[c]{
\Large{\textbf{Lab01-Preliminary}}\vspace{1mm}\\
VE281 - Data Structures and Algorithms, Xiaofeng Gao, TA: Qingmin Liu, Autumn 2019}}
%CS26019 - Algorithm Design and Analysis, Xiaofeng Gao, Autumn 2019}}
\begin{center}
\footnotesize{\color{red}$*$ Please upload your assignment to website. Contact webmaster for any questions.}

\footnotesize{\color{blue}$*$ Name:Wu Jiayao  \quad Student ID:517370910257 \quad Email: jiayaowu1999@sjtu.edu.cn}
\end{center}


\begin{enumerate}

\item What is the time complexity of the following code?


\begin{lstlisting}[language=C++]
// REQUIRES: an integer k
// EFFECTS: return the number of times that Line|\color{codegreen}~\ref{Line-Count}| is executed
int count(int k)
{
	int count = 0;
	int n = pow(2,k); // n=2^k
	while (n>=1)
	{
		int j;
   		for (j=0;j<n;j++)
   		{
   			count += 1;  |\label{Line-Count}|	
   		}
   		n /= 2;
	}
	return count;
}
\end{lstlisting}



\begin{solution}
%	Uncomment this block to write your solution.
$$
	2^k+2^{k-1}+2^{k-2}+....+1 = 2^{k+1}-1=O(2^k). \ 
	\text{So the time complexity is } O(2^n).
$$
\end{solution}


\item Given an array \textbf{nums} of $n$ integers, are there elements $a, b, c$ in nums such that $a + b + c = 0?$ Write a program to find all unique triplets in the array which gives the sum of zero. Give your code as the answer. \textbf{Claim that the time complexity of your program should be less than or equal to $O(n^2)$.}

{\color{purple}Examples: Input array [-1, 0, 1, 2, -1, -4], the solution is [[-1, 0, 1], [-1, -1, 2]]}



\begin{solution}
Please explain your design and fill in the following block:

	\begin{lstlisting}[language=C++]
// REQUIRES: an integer array a of size n
// EFFECTS: return a list of triplets, the sum of each triplet equals to 0.
vector<vector<int>> threeSum(vector<int>& a) {
        vector<vector<int>> res;
        std::sort(a.begin(),a.end());
        for (int i = 0 ; i< a.size() ; i++)
        {
            int target = -a[i];
            int front = i + 1;
            int back = a.size() - 1;
            while (front < back)
            {
                int sum = a[front] + a[back];
                if (sum > target)
                    back --;
                else if (sum < target)
                    front ++;
                else
                {
                    vector<int> tmp (3,0);
                    tmp[0] = a[i];
                    tmp[1] = a[front];
                    tmp[2] = a[back];
                    res.push_back(tmp);
                        
                    while (front < back && a[front] == tmp[1])
                        front ++;
                    while(front < back && a[back] == tmp[2])
                        back--;
                } 
            }
            while(i+1 < a.size()-1 && a[i+1]==a[i])
                i++;
        }
        return res;  
    }
	\end{lstlisting}
Explain the time complexity of your solution here.
$$
	\text{The time complexity for std::sort is: } O(n \cdot \log n). \\
$$
$$
	\text{The time complexity is: } \Sigma_{i=1}^{n-2} n-i = \frac{1}{2}(n^2-3n+2) = O(n^2); 
$$
$$
	\text{The overall time complexity is: } O(n^2); 
$$
\end{solution}

\item Equivalence Class

\begin{definition}[$o$-Notation]
Let $f(n)$ and $g(n)$ be functions from the set of natural numbers to the set of nonnegative real numbers. $f(n)$ is said to be $o(g(n))$, written as $f(n)=o(g(n))$, if
$$\forall c.\exists n_{0}.\forall n\ge n_{0}.f(n)<c g(n).$$
\end{definition}

An equivalence relation $\mathcal{R}$ on the set of complexity functions is defined as follows: $$f\mathcal{R}g \mbox{ if and only if }
f(n)=\Theta(g(n)).$$ A complexity class is an equivalence class of $\mathcal{R}$.

The equivalence classes can be ordered by $\prec$ defined as: $f\prec g$ iff $f(n)=o(g(n))$.

{\color{purple}Example: $1 \prec \log \log n \prec \log n \prec \sqrt{n} \prec n^{\frac{3}{4}} \prec n \prec n \log n \prec n^2 \prec 2^n \prec n! \prec 2^{n^2}$.}

Please order the following functions by $\prec$ and give your explanation: $$(\sqrt{2})^{\log n}, (n+1)!, 
ne^n, (\log n)!, n^3,  n^{1/\log n}.$$




\begin{solution}
	$$
		n^{1/ \log(n)} \prec (\sqrt{2})^{\log n}   \prec n^3  \prec (\log n)!\prec  ne^n \prec   (n+1)! 
	$$

	Since 
	$$
		(\sqrt{2})^{\log n}=n^{1/2}\prec n^3
	$$
	$$
		n^{1/\log n}=2
	$$
	We can get: 
	$$
		n \cdot n^2\prec n \cdot 2^n\prec n \cdot e^n\prec (n+1) \cdot n!,
	$$
	which leads to
	$$
		n^{1/\log n}\prec (\sqrt{2})^{\log n}\prec n^3\prec ne^n\prec (n+1)!.
	$$

	According to Stirling's Approximation,
	$$
		(\log n)! \leq 2(\log n)^{1/2+\log n} \times 2^{-\log n}
	$$
	$$
		(\log n)^{\log n} = 2^{(\log n) \times (\log \log n)}
	$$
	So the approximate growth is $n^{(\log \log n)-1}$. Obviously, $n^3 \prec n^{(\log \log n)-1}$. Hence
	$$
		n^3 \prec (\log n)!
	$$
	Since $n! \prec 2^{n^2}$,
	$$
		(\log n)! \prec 2^{(\log n)^2} = n \cdot n \prec n2^n \prec ne^n
	$$
	
\end{solution}

\end{enumerate}

%========================================================================
\end{document}
